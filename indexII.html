<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Infinite scroll II</title>
    <script type="text/javascript">

    function yHandler() {
        let wrap = document.getElementById('wrap');
        let contentHeight = wrap.offsetHeight; // returns viewable height of an element in px w/ padding, border but not margin

        // get vertical scroll position
        let yOffset = window.pageYOffset; // px current document has scrolled from upper left corner vertically
        let y = yOffset + window.innerHeight; // yOffset + height of a window's content area
        // if user reaches bottom of page or viewable window + size of scroll from top is more than height of element content
        if (y >= contentHeight) {
            wrap.innerHTML += '<div class="newData"></div>';
        }

        let status = document.getElementById('status');
        status.innerHTML = contentHeight + ' | ' + y;
    }

    window.onscroll = yHandler;

    </script>

    <style type="text/css">
      div#status {
        position: fixed;
        font-size: 24px;
      }
      div#wrap {
        width: 800px;
        margin: 0px auto;
      }
      div.newData {
          height: 1000px;
          background: #09F;
          margin: 10px 0px;
      }
    </style>
  </head>
  <body>
    <div id="status">0 | 0</div>
    <div id="wrap"><img src="http://api.adorable.io/avatars/0" /></div>
  </body>
</html>
